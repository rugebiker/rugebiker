{% extends "base.html" %}

{% block title %}tag :: {{ tag }}{% endblock %}
{% block title2 %}tag :: {{ tag }}{% endblock %}

{% block content %}
    {% for post in posts %}
        <div class="title"><h2><a href="/blog/{{post.post_url}}">{{ post.title }}</a></h2></div>
        <div class="time"><h5>{{ post.created|date:"Y-m-d" }}</h5></div>
        <div class="entry"><p>{{ post.body|safe }}</p></div>
        <div class="tags">Categories: 
            {% for tag in post.tags.all %}
                <a href="/blog/tag/{{tag}}">{{tag}}</a>
                {% if not forloop.last %}, {% endif %}
            {% endfor %}
        </div>
    {% endfor %}

    <!-- Next/Prev page links  -->
    {% if posts.object_list and posts.paginator.num_pages > 1 %}
        <div class="pagination" style="margin-top: 20px; margin-left: -20px; ">
            <span class="step-links">
                {% if posts.has_previous %}
                    <a href= "?page={{ posts.previous_page_number }}">newer entries &lt;&lt; </a>
                {% endif %}

                <span class="current">
                    &nbsp;Page {{ posts.number }} of {{ posts.paginator.num_pages }}
                </span>

                {% if posts.has_next %}
                    <a href="?page={{ posts.next_page_number }}"> &gt;&gt; older_entries</a>
                {% endif %}
            </span>
        </div>
    {% endif %}
{% endblock %}
